# vim: ft=zsh
# use fzf to search for a dir in gopath

gocd() {
    # local cmd="command find -L ${GOPATH}/src \
    #     -not -iwholename '*.git*' \
    #     -not -iwholename '*.svn*' \
    #     -type d -print 2> /dev/null"
    local pre_pwd=$(pwd)
    cd ${GOPATH}/src
    local cmd="command fd \
        -L ${GOPATH}/src \
        -type d 2> /dev/null"
    local out=$(eval $cmd | fzf --height=50% --exit-0 -q "$1")
    cd "$out"
    # zle reset-prompt
}
